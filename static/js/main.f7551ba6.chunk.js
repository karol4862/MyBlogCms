(window.webpackJsonpnowyreact=window.webpackJsonpnowyreact||[]).push([[0],{26:function(e,t,n){e.exports=n.p+"static/media/work.1251f54f.jpg"},30:function(e,t,n){e.exports=n(51)},35:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(25),c=n.n(i),o=(n(35),n(2)),s=n(4),l=n(6),u=n(5),m=n(7),h=n(27),p=n(11),f=r.a.createContext(null),d=function(e){return function(t){return r.a.createElement(f.Consumer,null,(function(n){return r.a.createElement(e,Object.assign({},t,{firebase:n}))}))}},b=f,g=n(16),v=n.n(g),E=(n(36),n(39),n(52),{apiKey:"AIzaSyAsbYHPbriab0V0EytaQZGzn8OGA4eGJ3c",authDomain:"my-first-firebase-63a81.firebaseapp.com",databaseURL:"https://my-first-firebase-63a81.firebaseio.com",projectId:"my-first-firebase-63a81",storageBucket:"my-first-firebase-63a81.appspot.com",messagingSenderId:"137991392462",appId:"1:137991392462:web:4f4a248cb6de5a06"}),y=function e(){var t=this;Object(o.a)(this,e),this.addToDatabase=function(e){return t.db.collection("project").add(e)},this.getFromDatabase=function(){return t.db.collection("project").get()},this.deleteFromDatabase=function(e){return t.db.collection("project").doc(e).delete()},this.doSignInWithEmailAndPassword=function(e,n){return t.auth.signInWithEmailAndPassword(e,n)},this.doSignOut=function(){return t.auth.signOut()},this.getUser=function(){return t.auth.currentUser},this.sendImage=function(e,n){return t.storage.ref().child("image/".concat(e)).put(n)},this.getImage=function(e){return t.storage.ref().child("image/".concat(e)).getDownloadURL()},this.removeImage=function(e){return t.storage.ref().child("image/".concat(e)).delete()},v.a.initializeApp(E),this.db=v.a.firestore(),this.auth=v.a.auth(),this.storage=v.a.storage()},O=d(function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleDeleteButton=function(e,t){n.props.removeArticle(e),n.props.firebase.deleteFromDatabase(e),n.props.firebase.removeImage(t)},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.content,n=t.name,a=t.id,i=t.image;return r.a.createElement("li",null,r.a.createElement("h2",null,n),r.a.createElement("button",{className:"buttonPage",onClick:function(){return e.handleDeleteButton(a,i)}},"Delete"))}}]),t}(a.Component)),j=n(15),w=d(function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",image:""},n.handleChange=function(e){n.setState(Object(j.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){var t=(new Date).getTime(),a=n.state,r=a.name,i=a.image,c=a.text;r&&i&&c?n.props.firebase.sendImage(t,i).then(n.props.firebase.addToDatabase({name:r,image:t,text:c})).then((function(e){n.setState({name:"",image:null,text:""}),alert("Files Added Succesful!")})):alert("Inputs can't be empty"),e.preventDefault()},n.fileInput=function(e){n.setState(Object(j.a)({},e.target.name,e.target.files[0]))},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{type:"text",name:"name",placeholder:"Title",value:this.state.name,onChange:this.handleChange}),r.a.createElement("label",{className:"inputFileCustom",htmlFor:"inputFile"},r.a.createElement("input",{type:"file",accept:"image/png, image/jpeg",name:"image",onChange:this.fileInput,files:this.state.image,id:"inputFile"}),"Choose File"),r.a.createElement("textarea",{type:"textarea",name:"text",placeholder:"Text",value:this.state.text,onChange:this.handleChange}),r.a.createElement("button",{className:"buttonPage"},"Send"))}}]),t}(a.Component)),S=(n(41),d(function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={contentFirebase:[]},n.removeArticle=function(e){var t=n.state.contentFirebase.filter((function(t){return t.id!==e}));n.setState({contentFirebase:t})},n.signOutAuth=function(){return n.props.firebase.doSignOut()},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.firebase.getFromDatabase().then((function(t){t.docs.forEach((function(t){var n={id:t.id,name:t.data().name,image:t.data().image,text:t.data().text};e.setState((function(e){return{contentFirebase:e.contentFirebase.concat(n)}}))}))})).then((function(t){e.setState((function(e){return{contentFirebase:e.contentFirebase.sort((function(e,t){return t.image-e.image}))}}))}))}},{key:"render",value:function(){var e=this,t=this.state.contentFirebase.map((function(t){return r.a.createElement(O,{content:t,key:t.id,removeArticle:e.removeArticle})}));return r.a.createElement("div",{className:"authPage"},r.a.createElement(w,null),r.a.createElement("button",{className:"singOut buttonPage",onClick:this.signOutAuth},"Sing Out"),r.a.createElement("ul",{className:"listFirebase"},t))}}]),t}(a.Component))),C=(n(42),d(function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",password:"",error:null},n.handleChange=function(e){n.setState(Object(j.a)({},e.target.name,e.target.value))},n.signInAuth=function(e){var t=n.state,a=t.name,r=t.password;n.props.firebase.doSignInWithEmailAndPassword(a,r).catch((function(e){return n.setState({error:e})})),e.preventDefault()},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.name,n=e.password,a=e.error;return r.a.createElement("div",{className:"noAuthPage"},r.a.createElement("form",{onSubmit:this.signInAuth},r.a.createElement("input",{type:"text",value:t,name:"name",onChange:this.handleChange,placeholder:"Login"}),r.a.createElement("input",{type:"password",value:n,name:"password",onChange:this.handleChange,placeholder:"Password"}),r.a.createElement("button",{className:"buttonPage"},"Login"),a&&a.message))}}]),t}(a.Component))),A=d(function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={authUser:null},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.listener=this.props.firebase.auth.onAuthStateChanged((function(t){t?e.setState({authUser:t}):e.setState({authUser:null})}))}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"render",value:function(){return this.state.authUser?r.a.createElement(S,null):r.a.createElement(C,null)}}]),t}(a.Component)),F=(n(43),d(function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={imageUrl:"",contentEnable:!1},n.handleButtonContent=function(){n.setState((function(e){return{contentEnable:!e.contentEnable}}))},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.firebase.getImage(this.props.content.image).then((function(t){return e.setState({imageUrl:t})}))}},{key:"render",value:function(){var e=this.props.content,t=e.name,n=e.image,a=e.text,i=this.state,c=i.imageUrl,o=i.contentEnable;return r.a.createElement("section",{className:"landingPageElement"},r.a.createElement("img",{src:c,alt:n}),r.a.createElement("h2",null,t),o&&r.a.createElement("p",null,a),r.a.createElement("button",{onClick:this.handleButtonContent},o?"Hide":"Show"))}}]),t}(a.Component))),k=(n(44),n(26)),x=n.n(k),I=d(function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={contentList:[]},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.firebase.getFromDatabase().then((function(t){t.docs.forEach((function(t){var n={id:t.id,name:t.data().name,image:t.data().image,text:t.data().text};e.setState((function(e){return{contentList:e.contentList.concat(n)}}))}))})).then((function(t){e.setState((function(e){return{contentList:e.contentList.sort((function(e,t){return t.image-e.image}))}}))}))}},{key:"render",value:function(){var e=this.state.contentList.map((function(e){return r.a.createElement(F,{content:e,key:e.id})}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"welcomeSection"},r.a.createElement("div",{className:"contentBox"},r.a.createElement("h2",null," ",r.a.createElement("span",{className:"yellow"},"Hi"),", my name is Karol."),r.a.createElement("p",null,"This site is my own CMS based on Firebase. ",r.a.createElement("br",null),"Feel free to put your own post here and write what could I change in this site, or send a funny meme.",r.a.createElement("br",null),"Go to the subpage ",r.a.createElement("span",{className:"yellow"},"/admin"),", then sing in by use admin@admin.com and password admin123, and send a post. You can atach the image, write the title and text.")),r.a.createElement("img",{src:x.a,alt:"pcImage"}),r.a.createElement("span",{className:"yellow welcomeSpan"},"return valuablePost")),r.a.createElement("div",{className:"landingPage"},e))}}]),t}(a.Component)),D=(n(45),n(46),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("header",null," ",r.a.createElement("h1",null," My Front-end ",r.a.createElement("span",{className:"yellow"},"  Blog ")," ")),r.a.createElement(p.a,{path:"/admin",component:A}),r.a.createElement(p.a,{path:"/",exact:!0,component:I})))}}]),t}(a.Component));c.a.render(r.a.createElement(b.Provider,{value:new y},r.a.createElement(D,null)),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.f7551ba6.chunk.js.map